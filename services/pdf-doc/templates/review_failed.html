<!-- ìƒˆ í…œí”Œë¦¿ íŒŒì¼ -->
<!DOCTYPE html>
<html>
<head>
    <title>ì‹¤íŒ¨ ë¬¸ì„œ ê²€ìˆ˜</title>
    <meta charset="utf-8">
    <style>
        .failed-item { border: 1px solid #ddd; margin: 10px; padding: 15px; }
        .success { background-color: #d4edda; }
        .failed { background-color: #f8d7da; }
        .manual-input { margin: 10px 0; }
        .manual-input input { margin: 5px; padding: 5px; }
    </style>
</head>
<body>
    <h1>ğŸ” ì‹¤íŒ¨ ë¬¸ì„œ ìˆ˜ê¸° ê²€ìˆ˜</h1>
    
    {% for item in failed_items %}
    <div class="failed-item failed">
        <h3>ğŸ“„ {{ item.filename }}</h3>
        <p><strong>ë³€í™˜ ë°©ì‹:</strong> {{ item.conversion_method }}</p>
        <p><strong>ì‹¤íŒ¨ ì‹œê°„:</strong> {{ item.timestamp }}</p>
        
        <div class="manual-input">
            <h4>ìˆ˜ê¸° ì…ë ¥:</h4>
            <form method="POST" action="/save_manual_review">
                <input type="hidden" name="document_id" value="{{ loop.index0 }}">
                <input type="text" name="kc_number" placeholder="KC ë²ˆí˜¸" value="{{ item.extracted_numbers.get('kc_number', '') }}">
                <input type="text" name="registration_number" placeholder="ë“±ë¡ë²ˆí˜¸" value="{{ item.extracted_numbers.get('registration_number', '') }}">
                <input type="text" name="document_number" placeholder="ë¬¸ì„œë²ˆí˜¸" value="{{ item.extracted_numbers.get('document_number', '') }}">
                <input type="text" name="business_number" placeholder="ì‚¬ì—…ìë²ˆí˜¸" value="{{ item.extracted_numbers.get('business_number', '') }}">
                <button type="submit">ğŸ’¾ ì €ì¥</button>
            </form>
        </div>
    </div>
    {% endfor %}
</body>
</html>